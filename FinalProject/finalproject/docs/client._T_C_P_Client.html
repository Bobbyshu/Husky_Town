<!DOCTYPE html>
<html lang="en">
<head>
        <title>TCPClient (client.TCPClient)</title>
	<meta charset="utf-8" />
	<meta content="width=device-width, initial-scale=1" name="viewport" />
        <link href="style.css" rel="stylesheet" />
        <script src="script.js" type="text/javascript"></script>

	
	<link href="search-results.html" rel="prefetch" />
</head>
<body>
	<div id="page-header">
		<div id="logotype">
		<span>Documentation</span>
		<nav>
			<a href="http://dlang.org/">Dlang.org</a>
		</nav>
		</div>

		<form action="search-docs.html" id="search">
			<input name="searchTerm" placeholder="Find a symbol name..." type="search" />
			<input type="submit" value="Go" />
		</form>
	</div>
	<div id="page-body">
		<div id="page-content">
		<h1>TCPClient</h1><div class="breadcrumbs"><a class="breadcrumb" href="client.html">client</a> </div><div><div class="documentation-comment synopsis"><div><p>TCPClient is responsible for handling the client-side logic of the chat application.</p><p>This class manages the connection to the server for sending and receiving messages
and files. It also handles separate connections for XY coordinate updates. Each
client runs in its own thread and interacts with the server independently.</p></div></div></div><div class="annotated-prototype"><div class="aggregate-prototype"><div class="attributes"></div><span class="builtin-type">class</span> TCPClient  {<div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">awaitingSavePath</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">string</span></tt> <span class="name">receivedFileName</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">string</span></tt> <span class="name">receivedFileData</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">bool</span></tt> <span class="name">clientRunning</span>;</div><div class="aggregate-member"><a href="client._T_C_P_Client.m_Socket.html"><div class="attributes"></div><tt class="highlighted"><span class="hid">Socket</span></tt> <span class="name">mSocket</span>;</a></div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="hid">Socket</span></tt> <span class="name">mSocketForXY</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">string</span></tt> <span class="name">username</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">int</span></tt> <span class="name">xCord</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">int</span></tt> <span class="name">yCord</span>;</div><div class="aggregate-member"><div class="attributes"></div><tt class="highlighted"><span class="type">int</span>[][<span class="type">string</span>]</tt> <span class="name">map</span>;</div><div class="aggregate-member"><a href="client._T_C_P_Client.this.html"><span class="lang-feature name">this</span>();</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.~this.html"><span class="lang-feature name">~this</span>();</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.run.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">run</span>();</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.handle_User_Input.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">handleUserInput</span>(string input);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.receive_Data_From_Server.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">receiveDataFromServer</span>();</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.extract_Valid_String.html"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">extractValidString</span>(char[] arr);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.build_Clean_String.html"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">buildCleanString</span>(char[] data);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.extract_File_Name.html"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">extractFileName</span>(string filePath);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.read_Line.html"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">readLine</span>(Socket socket);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.compress_File.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">compressFile</span>(string inputFile, string outputFile);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.send_File.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">sendFile</span>(Socket socket, string filePath, bool isCompressed);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.compress_And_Send_File.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">compressAndSendFile</span>(string filePath);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.receive_File.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">receiveFile</span>(Socket socket, string headerInfo);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.send_Packet.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">sendPacket</span>(int x, int y);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.build_Full_Path.html"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">buildFullPath</span>(string path, string fileName);</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.receive_Packet_From_Server.html"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">receivePacketFromServer</span>();</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.get_Map.html"><tt class="highlighted"><span class="type">int</span>[][<span class="type">string</span>]</tt> <span class="name">getMap</span>();</a></div><div class="aggregate-member"><a href="client._T_C_P_Client.get_User_Name.html"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">getUserName</span>();</a></div>}</div></div><h2 id="constructors"><a class="header-anchor" href="#constructors">Constructors</a></h2><dl class="member-list constructors"><dt><a href="client._T_C_P_Client.this.html">this</a><div class="simplified-prototype" style="max-width: 6ch;"><span class="lang-feature name">this</span>()</div></dt><dd><div><p>Constructs a new TCPClient instance.</p></div></dd></dl><h2 id="destructor"><a class="header-anchor" href="#destructor">Destructor</a></h2><dl class="member-list"><dt><a href="client._T_C_P_Client.~this.html">~this</a><div class="simplified-prototype" style="max-width: 7ch;"><span class="lang-feature name">~this</span>()</div></dt><dd><div><p>Destructor to clean up resources.</p></div></dd></dl><h2 id="members"><a class="header-anchor" href="#members">Members</a></h2><h3 class="member-list-header hide-from-toc" id="function"><a class="header-anchor" href="#function">Functions</a></h3><dl class="member-list native"><dt><a href="client._T_C_P_Client.build_Clean_String.html">buildCleanString</a><div class="simplified-prototype" style="max-width: 39ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">buildCleanString</span>(char[] data)</div></dt><dd><div><p>Builds a clean string from a character array, including only printable characters.</p></div></dd><dt><a href="client._T_C_P_Client.build_Full_Path.html">buildFullPath</a><div class="simplified-prototype" style="max-width: 55ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">buildFullPath</span>(string path, string fileName)</div></dt><dd><div><p>Builds the full path for a file based on a directory path and file name.</p></div></dd><dt><a href="client._T_C_P_Client.compress_And_Send_File.html">compressAndSendFile</a><div class="simplified-prototype" style="max-width: 45ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">compressAndSendFile</span>(string filePath)</div></dt><dd><div><p>Compresses a file and sends it over a socket.</p></div></dd><dt><a href="client._T_C_P_Client.compress_File.html">compressFile</a><div class="simplified-prototype" style="max-width: 59ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">compressFile</span>(string inputFile, string outputFile)</div></dt><dd><div><p>Compresses a file and writes the compressed data to an output file.</p></div></dd><dt><a href="client._T_C_P_Client.extract_File_Name.html">extractFileName</a><div class="simplified-prototype" style="max-width: 42ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">extractFileName</span>(string filePath)</div></dt><dd><div><p>Extracts the file name from a given file path.</p></div></dd><dt><a href="client._T_C_P_Client.extract_Valid_String.html">extractValidString</a><div class="simplified-prototype" style="max-width: 40ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">extractValidString</span>(char[] arr)</div></dt><dd><div><p>Extracts a valid string from a character array, stopping at the first null character.</p></div></dd><dt><a href="client._T_C_P_Client.get_Map.html">getMap</a><div class="simplified-prototype" style="max-width: 24ch;"><tt class="highlighted"><span class="type">int</span>[][<span class="type">string</span>]</tt> <span class="name">getMap</span>()</div></dt><dd><div><p>Retrieves the client's current map of usernames to coordinates.</p></div></dd><dt><a href="client._T_C_P_Client.get_User_Name.html">getUserName</a><div class="simplified-prototype" style="max-width: 22ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">getUserName</span>()</div></dt><dd><div><p>Retrieves the username of the client.</p></div></dd><dt><a href="client._T_C_P_Client.handle_User_Input.html">handleUserInput</a><div class="simplified-prototype" style="max-width: 37ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">handleUserInput</span>(string input)</div></dt><dd><div><p>Handles user input to process chat messages or file-related commands.</p></div></dd><dt><a href="client._T_C_P_Client.read_Line.html">readLine</a><div class="simplified-prototype" style="max-width: 33ch;"><tt class="highlighted"><span class="type">string</span></tt> <span class="name">readLine</span>(Socket socket)</div></dt><dd><div><p>Reads a line of data from a socket.</p></div></dd><dt><a href="client._T_C_P_Client.receive_Data_From_Server.html">receiveDataFromServer</a><div class="simplified-prototype" style="max-width: 30ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">receiveDataFromServer</span>()</div></dt><dd><div><p>Continuously receives data from the server.</p></div></dd><dt><a href="client._T_C_P_Client.receive_File.html">receiveFile</a><div class="simplified-prototype" style="max-width: 55ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">receiveFile</span>(Socket socket, string headerInfo)</div></dt><dd><div><p>Receives a file from a socket based on the provided header information.</p></div></dd><dt><a href="client._T_C_P_Client.receive_Packet_From_Server.html">receivePacketFromServer</a><div class="simplified-prototype" style="max-width: 33ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">receivePacketFromServer</span>()</div></dt><dd><div><p>Continuously receives packets from the server and processes them.</p></div></dd><dt><a href="client._T_C_P_Client.run.html">run</a><div class="simplified-prototype" style="max-width: 11ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">run</span>()</div></dt><dd><div><p>Starts the client, establishing connections to the server for message and coordinate communication.</p></div></dd><dt><a href="client._T_C_P_Client.send_File.html">sendFile</a><div class="simplified-prototype" style="max-width: 70ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">sendFile</span>(Socket socket, string filePath, bool isCompressed)</div></dt><dd><div><p>Sends a file over a socket, optionally indicating if the file is compressed.</p></div></dd><dt><a href="client._T_C_P_Client.send_Packet.html">sendPacket</a><div class="simplified-prototype" style="max-width: 31ch;"><tt class="highlighted"><span class="type">void</span></tt> <span class="name">sendPacket</span>(int x, int y)</div></dt><dd><div><p>Sends XY coordinate packet to the server.</p></div></dd></dl><h3 class="member-list-header hide-from-toc" id="variable"><a class="header-anchor" href="#variable">Variables</a></h3><dl class="member-list native"><dt><a href="client._T_C_P_Client.m_Socket.html">mSocket</a><div class="simplified-prototype" style="max-width: 16ch;"><tt class="highlighted"><span class="hid">Socket</span></tt> <span class="name">mSocket</span>;</div></dt><dd><div><p>The client socket connected to a server</p></div></dd></dl><div></div></div>
		<div id="page-nav"><a class="parent" href="client.html">client</a> 
		<span class="type-separator">classes</span><ul><li><a class="class current" href="client._T_C_P_Client.html">TCPClient</a></li></ul></div>
	</div>
	<div id="page-footer">Page generated by <a href="https://github.com/adamdruppe/adrdox">adrdox</a></div>
</body>
</html>